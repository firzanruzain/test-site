<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New User</title>
    <link rel="stylesheet" href="../css/common-ui.css">
    <link rel="stylesheet" href="../css/form-style.css">
    <link rel="stylesheet" href="../css/announcements-mgt-style.css">
    <link rel="stylesheet" href="../css/user-mgt-style.css">
</head>

<body>
    <div id="outer-container">
        <!-- Header Section -->
        <header>
            <div class="menubutton"><input title="side-menu" type="checkbox" id="user-side-menu"><label
                    for="user-side-menu" class="fas"></label></div>
            <div id="logo"></div>
            <button id="home"><a href="../user-management-mgt/user-dashboard-page.html"><img src="../assets/home.png" alt="home icon"></a></button>
        </header>

        <div id="main-container">
            <nav id="side-menu">
                <div class="search-container">
                    <input type="text" id="search-bar" placeholder="Search">
                </div>
                <ul id="side-menu-shortcuts">

                    <!-- Dropdown List -->
                    <li class="side-menu-dropdown-list">
                        <button class="menu-button dropdown-button">
                            <span class="menu-label">User Management</span>
                            <span class="expand-icon"></span>
                        </button>

                        <!-- Inner Dropdown List -->
                        <ul class="inner-dropdown">
                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../user-management-mgt/user-dashboard-page.html">Admin Dashboard</a>
                            </li>

                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../user-management-mgt/about-us-page.html">About Us</a>
                            </li>
                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../user-management-mgt/about-us-page.html">About Us</a>
                            </li>
                        </ul>
                    </li>

                    <li class="side-menu-dropdown-list">
                        <button class="menu-button dropdown-button"><span class="menu-label">Project & Proposal</span>
                            <span class="expand-icon"></span>
                        </button>

                        <ul class="inner-dropdown">
                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../project-proposal-mgt/proposal-management-page.html">All
                                    Proposal</a>
                            </li>

                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../project-proposal-mgt/proposal-submission-page.html">New Proposal</a>
                            </li>
                        </ul>
                    </li>

                    <li class="side-menu-dropdown-list">
                        <button class="menu-button dropdown-button">
                            <span class="menu-label">Meeting & Presentation</span>
                            <span class="expand-icon"></span>
                        </button>

                        <!-- Inner Dropdown List -->
                        <ul class="inner-dropdown">
                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../meeting-mgt/presentation-management-page.html">All Presentations</a>
                            </li>

                            <li class="inner-dropdown-list"><a class="menu-button"
                                href="../meeting-mgt/presentation-scheduler.html">New Presentations</a>
                        </li>
                        </ul>
                    </li>

                    <li class="side-menu-dropdown-list">
                        <button onclick="location.href='../communication/comm-page.html'" class="menu-button"><span
                                class="menu-label">Communication</span>
                    </li>

                    <!-- Dropdown List -->
                    <li class="side-menu-dropdown-list">
                        <button class="menu-button dropdown-button">
                            <span class="menu-label">Administration</span>
                            <span class="expand-icon"></span>
                        </button>

                        <!-- Inner Dropdown List -->
                        <ul class="inner-dropdown">
                            <li class="inner-dropdown-list"><a class="menu-button"
                                    href="../administration/new-user-page.html">Add User</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>

            <div class="content">
                <section class="main">
                    <h1 id="page-name">Create New User</h1>

                    <form class="form" id="userForm">
                        <!-- auto-generated Proposal ID -->
                        <div class="form-group ">
                            <label for="user-id">User ID</label>
                            <input type="text" id="user-id" name="user-id" required>
                        </div>

                        <div class="form-group">
                            <label for="user-role">Role</label>
                            <select id="user-role" name="user-role" required>
                                <option value="" disabled selected>Select User Role</option>
                                <option value="student">Student</option>
                                <option value="moderator">Moderator</option>
                                <option value="supervisor">Supervisor</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="password">Password:</label>
                            <input id="password" name="password" type="password"
                                pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}"
                                title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 to 12 characters"
                                required />
                        </div>

                        <!-- submit and reset buttons -->
                        <div class="form-buttons">
                            <button type="submit" class="btn submit-btn">Submit</button>
                            <button type="reset" class="btn reset-btn">Reset</button>
                        </div>
                    </form>
                </section>
            </div>


        </div>

        <footer>
            <h3><a href="https://www.mmu.edu.my/">Multimedia University, Persiaran Multimedia, 63100 Cyberjaya,
                    Selangor,
                    Malaysia</a></h3>
            <div id="side">
                <a class="link" href="http://www.mmu.edu.my/">MMU Website</a>
                <a class="link" href="https://online.mmu.edu.my/">MMU Portal</a>
                <a class="link" href="https://clic.mmu.edu.my/">CLiC</a>
                <a class="link" href="https://servicedesk.mmu.edu.my/psp/crmprd/?cmd=login&languageCd=ENG&">Service
                    Desk</a>
            </div>
            FYP Wise &copy; <em id="date"></em>Syabell Imran Aida Firzan
        </footer>

        <!-- JavaScript -->
        <script src="../scripts/side-menu.js"></script>

        <script>
            // simulate auto generate ID
            var userIDInput = document.getElementById("user-id");

            document.getElementById("user-role").addEventListener("change", function () {
                var role = event.target.value;

                if (role === "student") {
                    userIDInput.value = "121110321";
                } else if (role === "supervisor") {
                    userIDInput.value = "SV012546";
                } else if (role === "moderator") {
                    userIDInput.value = "M001245";
                }
            });

            document.getElementById("userForm").addEventListener("submit", function (event) {
                event.preventDefault(); // prevent actual form submission, only for display

                // retrieve form data
                const formData = {
                    userID: document.getElementById("user-id").value,
                    userRole: document.getElementById("user-role").value,
                    email: document.getElementById("email").value,
                    password: document.getElementById("password").value,
                };

                // display submitted proposal data in an alert
                let displayMessage = `
                User ID: ${formData.userID}
                Role: ${formData.userRole}
                Email: ${formData.email}
                Password: ${formData.password}
            `;

                // show the form data in a pop-up message
                alert(`Proposal submitted successfully!\n\n${displayMessage}`);

                // reload page after successful submission
                location.reload();
            });
        </script>
    </div>
</body>

</html>